
service Confluence {
    url: "http://confluence-burrito.ngrok.io/graphql""

    type Page {
       id: ID!
       authorName: String => from user(userName) with input authorName as author
       title: String
    }

    type User {
       id: ID!
       userName: String
       _=> from authoredPages(userName) with input userName as authoredPages
       _=> from reportedIssues(userName) with input userName as reportedIssues
       _=> from ownedRepositories(userName) with input userName as ownedRepositories
    }

    type Query {
        page(id:ID!): Page
        user(id: ID, userName: String): User
        authoredPages(userName: String): [Page]
    }
}

service Jira {
    url: "https://spring-graphql-proxy.ap-southeast-2.dev.atl-paas.net/graphql"

    type Issue {
       id: ID!
       assigneeName: String => from user(userName) with input assigneeName as assignee
    }

    type Query {
      issue(id: ID!): Issue
      reportedIssues(userName: String): [Issue]
    }
}


service Bitbucket {
    url: "http://bb-burrito.ngrok.io/graphql""

	type Query {
		repository(userName:String!, repositoryId: ID!): Repository
		ownedRepositories(userName: String!): [Repository]
	}

	type Repository {
		id: ID!
		name: String
		ownerName: String =>from user(userName) with input ownerName as owner
	}

}
